export type Locale = 'en' | 'es';

export const translations: Record<Locale, Record<string, string>> = {
  en: {
    // Welcome
    welcome_title: 'Take control\nof your time',
    welcome_subtitle: 'Set your goal, block distractions, and get it done every day.',
    welcome_feature_goals: 'Clear goals',
    welcome_feature_apps: 'Apps locked',
    welcome_feature_streaks: 'Streaks & wins',
    welcome_cta: 'Get started',

    // Onboarding story (9 steps)
    story_step1_title: 'Take control of your time',
    story_step1_desc: 'Your day shouldn\'t be decided by notifications.\nLockGoal helps you build focus through small daily goals and intentional habits.',
    story_step2_title: 'You spend around 2h 30m a day on social media',
    story_step2_desc: 'That\'s almost 35 full days every year.\nNot because you want to ‚Äî but because apps are designed to keep your attention.',
    story_step3_title: 'Most people check their phone within minutes of waking up',
    story_step3_desc: 'Starting your day with notifications increases stress and breaks your focus before it even begins.\nWith LockGoal, you can schedule app locks the night before and unlock them automatically after your first focused minutes.',
    story_step4_title: 'Distractions happen without noticing',
    story_step4_desc: 'Short scrolls turn into long sessions.\nSmall interruptions make deep focus harder and leave you feeling mentally tired.',
    story_step5_title: 'What could you do with that time?',
    story_step5_desc: 'Read more.\nLearn something new.\nMove forward on what truly matters to you.',
    story_step6_title: 'Structure makes focus easier',
    story_step6_desc: 'Define simple daily goals and make progress at your own pace.\nYour distracting apps stay locked until you move forward.',
    story_step7_title: 'Be present where you are',
    story_step7_desc: 'Less scrolling means more real conversations, deeper attention and meaningful moments.',
    story_step8_title: 'Simple rules. Powerful results.',
    story_step8_desc: 'Choose your daily goals.\nSelect the apps that distract you.\nUnlock them only after progress.',
    story_step8_metric1: 'Less screen time',
    story_step8_metric2: 'Fewer interruptions',
    story_step8_metric3: 'More productivity',
    story_step8_before: 'Before',
    story_step8_after: 'With LockGoal',
    story_step9_title: 'Your time. Your focus.',
    story_step9_desc: 'Start building streaks that matter and create a healthier relationship with your phone.',
    story_cta: 'Get started',
    story_next: 'Continue',

    // SetGoal (step 2 ‚Äì informative only, no selection)
    setgoal_title: "What do you want\nto achieve today?",
    setgoal_subtitle: 'You‚Äôll set your goals in the app after signing up.',
    setgoal_continue: 'Continue',

    // Goal types (for display and onboarding)
    goalType_read_book: 'Read a book',
    goalType_studying: 'Study',
    goalType_watch_film: 'Watch a Film',
    goalType_hangout_friends: 'Hang out with Friends',
    goalType_work_out: 'Work Out',
    goalType_yoga: 'Yoga',
    unit_pages: 'pgs',
    unit_min: 'min',

    // SelectApps
    selectapps_title: 'Which apps\ndistract you?',
    selectapps_subtitle: 'Select the apps you want to lock until you complete your daily goal.',
    selectapps_step: 'Step {{step}} of {{total}}',
    selectapps_selected: '{{count}} app selected',
    selectapps_selected_plural: '{{count}} apps selected',
    selectapps_lock: 'Lock {{count}} App',
    selectapps_lock_plural: 'Lock {{count}} Apps',

    // Permissions
    permissions_title: 'Enable Screen\nTime Access',
    permissions_subtitle: 'LockGoal needs Screen Time permission to block distracting apps until you complete your daily goals.',
    permissions_detail_blocking_title: 'App Blocking',
    permissions_detail_blocking_desc: 'Temporarily restrict access to selected apps',
    permissions_detail_privacy_title: 'Privacy First',
    permissions_detail_privacy_desc: 'We never read your data or track your usage',
    permissions_detail_reversible_title: 'Always Reversible',
    permissions_detail_reversible_desc: 'You can revoke access anytime in iOS Settings',
    permissions_allow: 'Allow Screen Time Access',
    permissions_skip: 'Skip for now',
    permissions_granted: 'Permission granted!',

    // Paywall
    paywall_title: 'Unlock your\nproductivity mode',
    paywall_subtitle: 'Subscription managed by RevenueCat. Start today with full focus.',
    paywall_monthly: 'Monthly',
    paywall_yearly: 'Yearly',
    paywall_per_month: '‚Ç¨7.99 / month',
    paywall_per_year: '‚Ç¨59.99 / year',
    paywall_badge: 'Best value',
    paywall_cta: 'Pay and continue',
    paywall_alert_title: 'Payment incomplete',
    paywall_alert_message: 'Could not start RevenueCat. Check your configuration.',

    // Ready
    ready_title: "You're all set",
    ready_subtitle: "You've paid for access. Sign in later to sync progress and streaks.",
    ready_goals: "Today's goals",
    ready_apps_blocked: 'Apps locked',
    ready_enter: 'Enter LockGoal',

    // Today
    today_title: "Time to execute",
    today_all_done: '‚úÖ All done',
    today_lock_active: 'üîí Locked until you complete everything',
    today_focus_active: 'Focus mode is on',
    today_focus_prompt: 'Tap "Let\'s go to work" to start the lock',
    today_lets_go: "Let's go to work",
    today_goals: "Today's goals",
    today_apps_blocked: 'Apps locked',
    today_countdown: 'Focus in {{seconds}}',
    today_alert_title: 'Focus mode on',
    today_alert_message: 'Apps are locked. Complete all goals to unlock.',

    // Capture
    capture_title: 'Log progress',
    capture_subtitle: 'Add progress to each daily goal. Apps stay locked until you complete all.',
    capture_add_one: '+1 done',
    capture_all_done: 'üéâ All goals for today are complete.',

    // Settings
    settings_title: 'Settings',
    settings_goals: "Today's goals",
    settings_add_goal: 'Add goal',
    settings_custom_goal: 'Custom goal',
    settings_add: 'Add',
    settings_cancel: 'Cancel',
    settings_custom_placeholder: 'e.g. Meditate 10 min',
    settings_apps_block: 'Apps to block',
    settings_account: 'Account',
    settings_linked: 'Linked: {{userId}}',
    settings_email_placeholder: 'Email',
    settings_password_placeholder: 'Password',
    settings_create_account: 'Create account',
    settings_redo_setup: 'Redo Setup',
    settings_reset_alert_title: 'Restart onboarding',
    settings_reset_alert_message: 'Go back to initial setup?',
    settings_alert_cancel: 'Cancel',
    settings_alert_reset: 'Restart',
    settings_account_created: 'Account created',
    settings_account_created_message: 'Your progress is now linked for streaks and sync.',
    settings_error: 'Error',
    settings_register_error: 'Could not sign up. Check Supabase configuration.',

    // Tabs
    tab_today: 'Today',
    tab_capture: 'Capture',
    tab_settings: 'Settings',

    // Language
    language: 'Language',
    language_en: 'English',
    language_es: 'Espa√±ol',
    streak_days: '{{count}} day streak',
    streak_days_plural: '{{count}} days streak',
  },
  es: {
    welcome_title: 'Toma el control\nde tu tiempo',
    welcome_subtitle: 'Elige tu objetivo, bloquea distracciones y cumple cada d√≠a.',
    welcome_feature_goals: 'Objetivos claros',
    welcome_feature_apps: 'Apps bloqueadas',
    welcome_feature_streaks: 'Rachas y logros',
    welcome_cta: 'Empezar',

    story_step1_title: 'Toma el control de tu tiempo',
    story_step1_desc: 'Tu d√≠a no deber√≠a depender de las notificaciones.\nLockGoal te ayuda a concentrarte con peque√±os objetivos diarios y h√°bitos conscientes.',
    story_step2_title: 'Pasas unas 2h 30min al d√≠a en redes sociales',
    story_step2_desc: 'Son casi 35 d√≠as completos al a√±o.\nNo porque quieras ‚Äî sino porque las apps est√°n dise√±adas para captar tu atenci√≥n.',
    story_step3_title: 'La mayor√≠a mira el m√≥vil a los minutos de despertar',
    story_step3_desc: 'Empezar el d√≠a con notificaciones aumenta el estr√©s y rompe tu concentraci√≥n antes de que empiece.\nCon LockGoal puedes programar bloqueos la noche anterior y desbloquear al completar tus primeros minutos de foco.',
    story_step4_title: 'Las distracciones pasan sin que te des cuenta',
    story_step4_desc: 'Un scroll corto se convierte en sesiones largas.\nLas interrupciones constantes dificultan el foco profundo y te dejan mentalmente agotado.',
    story_step5_title: '¬øQu√© podr√≠as hacer con ese tiempo?',
    story_step5_desc: 'Leer m√°s.\nAprender algo nuevo.\nAvanzar en lo que de verdad importa.',
    story_step6_title: 'La estructura facilita el foco',
    story_step6_desc: 'Define objetivos diarios sencillos y avanza a tu ritmo.\nTus apps distractoras siguen bloqueadas hasta que avances.',
    story_step7_title: 'Estar presente donde est√°s',
    story_step7_desc: 'Menos scroll significa m√°s conversaciones reales, m√°s atenci√≥n y momentos con sentido.',
    story_step8_title: 'Reglas simples. Resultados claros.',
    story_step8_desc: 'Elige tus objetivos diarios.\nSelecciona las apps que te distraen.\nDesbloqu√©alas solo tras avanzar.',
    story_step8_metric1: 'Menos tiempo en pantalla',
    story_step8_metric2: 'Menos interrupciones',
    story_step8_metric3: 'M√°s productividad',
    story_step8_before: 'Antes',
    story_step8_after: 'Con LockGoal',
    story_step9_title: 'Tu tiempo. Tu foco.',
    story_step9_desc: 'Empieza a construir rachas que importen y una relaci√≥n m√°s sana con el m√≥vil.',
    story_cta: 'Empezar',
    story_next: 'Continuar',

    setgoal_title: '¬øQu√© quieres\ncumplir hoy?',
    setgoal_subtitle: 'Configurar√°s tus objetivos en la app despu√©s de registrarte.',
    setgoal_continue: 'Continuar',

    goalType_read_book: 'Leer un libro',
    goalType_studying: 'Estudiar',
    goalType_watch_film: 'Ver una pel√≠cula',
    goalType_hangout_friends: 'Quedar con amigos',
    goalType_work_out: 'Entrenar',
    goalType_yoga: 'Yoga',
    unit_pages: 'p√°gs',
    unit_min: 'min',

    selectapps_title: '¬øQu√© apps\nte distraen?',
    selectapps_subtitle: 'Elige las apps que quieres bloquear hasta cumplir tu objetivo diario.',
    selectapps_step: 'Paso {{step}} de {{total}}',
    selectapps_selected: '{{count}} app seleccionada',
    selectapps_selected_plural: '{{count}} apps seleccionadas',
    selectapps_lock: 'Bloquear {{count}} app',
    selectapps_lock_plural: 'Bloquear {{count}} apps',

    permissions_title: 'Activar acceso\na Tiempo de uso',
    permissions_subtitle: 'LockGoal necesita permiso de Tiempo de uso para bloquear apps hasta que cumplas tus objetivos diarios.',
    permissions_detail_blocking_title: 'Bloqueo de apps',
    permissions_detail_blocking_desc: 'Restringir temporalmente el acceso a las apps elegidas',
    permissions_detail_privacy_title: 'Privacidad primero',
    permissions_detail_privacy_desc: 'No leemos tus datos ni rastreamos tu uso',
    permissions_detail_reversible_title: 'Siempre reversible',
    permissions_detail_reversible_desc: 'Puedes revocar el acceso cuando quieras en Ajustes',
    permissions_allow: 'Dar acceso a Tiempo de uso',
    permissions_skip: 'Omitir por ahora',
    permissions_granted: '¬°Permiso concedido!',

    paywall_title: 'Desbloquea tu\nmodo productividad',
    paywall_subtitle: 'Suscripci√≥n gestionada con RevenueCat. Empiezas hoy con foco total.',
    paywall_monthly: 'Mensual',
    paywall_yearly: 'Anual',
    paywall_per_month: '‚Ç¨7,99 / mes',
    paywall_per_year: '‚Ç¨59,99 / a√±o',
    paywall_badge: 'Mejor valor',
    paywall_cta: 'Pagar y continuar',
    paywall_alert_title: 'Pago no completado',
    paywall_alert_message: 'No se pudo iniciar RevenueCat. Revisa la configuraci√≥n.',

    ready_title: 'Tu sistema est√° listo',
    ready_subtitle: 'Ya pagaste el acceso. El registro se har√° dentro para vincular tu progreso y gamificaci√≥n.',
    ready_goals: 'Objetivos de hoy',
    ready_apps_blocked: 'Apps bloqueadas',
    ready_enter: 'Entrar a LockGoal',

    today_title: 'Hoy toca ejecutar',
    today_all_done: '‚úÖ Todo cumplido',
    today_lock_active: 'üîí Bloqueo activo hasta completar todo',
    today_focus_active: 'Focus mode en marcha',
    today_focus_prompt: 'Pulsa Lets go to work para empezar el bloqueo',
    today_lets_go: "Let's go to work",
    today_goals: 'Objetivos de hoy',
    today_apps_blocked: 'Apps bloqueadas',
    today_countdown: 'Focus en {{seconds}}',
    today_alert_title: 'Focus mode activo',
    today_alert_message: 'Apps bloqueadas. Cumple todos tus objetivos para desbloquear.',

    capture_title: 'Registrar progreso',
    capture_subtitle: 'Suma avance en cada objetivo diario. Hasta completar todos, no se desbloquean apps.',
    capture_add_one: '+1 completado',
    capture_all_done: 'üéâ Todos los objetivos del d√≠a est√°n completados.',

    settings_title: 'Ajustes',
    settings_goals: 'Objetivos de hoy',
    settings_add_goal: 'A√±adir objetivo',
    settings_custom_goal: 'Objetivo personalizado',
    settings_add: 'A√±adir',
    settings_cancel: 'Cancelar',
    settings_custom_placeholder: 'Ej: Meditar 10 min',
    settings_apps_block: 'Apps a bloquear',
    settings_account: 'Cuenta',
    settings_linked: 'Vinculada: {{userId}}',
    settings_email_placeholder: 'Email',
    settings_password_placeholder: 'Contrase√±a',
    settings_create_account: 'Crear cuenta',
    settings_redo_setup: 'Rehacer configuraci√≥n',
    settings_reset_alert_title: 'Reiniciar onboarding',
    settings_reset_alert_message: '¬øVolver al setup inicial?',
    settings_alert_cancel: 'Cancelar',
    settings_alert_reset: 'Reiniciar',
    settings_account_created: 'Cuenta creada',
    settings_account_created_message: 'Tu progreso ya est√° vinculado para gamificaci√≥n.',
    settings_error: 'Error',
    settings_register_error: 'No se pudo registrar. Revisa la configuraci√≥n de Supabase.',

    tab_today: 'Hoy',
    tab_capture: 'Capturar',
    tab_settings: 'Ajustes',

    language: 'Idioma',
    language_en: 'English',
    language_es: 'Espa√±ol',
    streak_days: '{{count}} d√≠a de racha',
    streak_days_plural: '{{count}} d√≠as de racha',
  },
};

function interpolate(text: string, params: Record<string, string | number>): string {
  return Object.entries(params).reduce(
    (acc, [key, value]) => acc.replace(new RegExp(`\\{\\{${key}\\}\\}`, 'g'), String(value)),
    text
  );
}

export function translate(
  locale: Locale,
  key: string,
  params?: Record<string, string | number>
): string {
  const dict = translations[locale] ?? translations.en;
  let out = dict[key] ?? translations.en[key] ?? key;
  if (params) out = interpolate(out, params);
  return out;
}
